<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.proj.team.dao.UserMapper">

 <select id="selectAll" resultType="UserDto">
 	SELECT U_NUM,U_ID,U_PASS,EMAIL,
 		   GRADE,PHONE,NICK,ADDRESS,
 		   POST,U_NAME,U_PROFILE,POINT,
 		   APOINT,U_DATE,LIKES,
 		   QUESTION,ANSWER
 	FROM B_USER
 </select>

<select id="select" parameterType="UserDto" resultType="UserDto">
	SELECT U_ID, U_PASS
 	FROM B_USER
 	WHERE U_ID=#{u_id} 
 	AND U_PASS=#{u_pass}
</select>

<insert id="insertUser">
	INSERT INTO B_USER(U_NUM,U_ID,U_PASS,EMAIL,PHONE,NICK,ADDRESS,POST,U_NAME,QUESTION,ANSWER)
	VALUES (U_NUM.nextval,#{u_id},#{u_pass},#{email},#{phone},#{nick},#{address},#{post},#{u_name},#{question},#{answer})
	
</insert>

<delete id="deleteUser">
	DELETE B_USER WHERE U_ID = #{u_id}

</delete>

<update id="updateAll">
	UPDATE B_USER 
	SET NICK = #{nick}, ADDRESS = #{address}, POST = #{post} ,QUESTION =#{question}, ANSWER = #{answer}
	WHERE U_ID = #{u_id}
</update>

<update id="updatePass">
 UPDATE B_USER
 SET U_PASS = #{u_pass}
 WHERE U_ID = #{u_id}
</update>

<update id="updateEmail">
	UPDATE B_USER
	SET EMAIL = #{email}
	WHERE U_ID = #{u_id}
</update>

<update id="updatePhone">
	UPDATE B_USER
	SET PHONE = #{phone}
	WHERE U_ID = #{u_id}
</update>




</mapper>